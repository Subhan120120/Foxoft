using System;
using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

#pragma warning disable CA1814 // Prefer jagged arrays over multidimensional

namespace Foxoft.Migrations
{
    /// <inheritdoc />
    public partial class initial : Migration
    {
        /// <inheritdoc />
        protected override void Up(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.Sql(@"  CREATE   VIEW [dbo].CurrAccFeatures AS 
									select CurrAccCode
										, [Feature01] = MAX(PivotTable2.[1]	)
										, [Feature02] = MAX(PivotTable2.[2]	)
										, [Feature03] = MAX(PivotTable2.[3]	)
										, [Feature04] = MAX(PivotTable2.[4]	)
										, [Feature05] = MAX(PivotTable2.[5]	)
										, [Feature06] = MAX(PivotTable2.[6]	)
										, [Feature07] = MAX(PivotTable2.[7]	)
										, [Feature08] = MAX(PivotTable2.[8]	)
										, [Feature09] = MAX(PivotTable2.[9]	)
										, [Feature10] = MAX(PivotTable2.[10])
										, [Feature11] = MAX(PivotTable2.[11])
										, [Feature12] = MAX(PivotTable2.[12])
										, [Feature13] = MAX(PivotTable2.[13])
										, [Feature14] = MAX(PivotTable2.[14])
										, [Feature15] = MAX(PivotTable2.[15])
										, [Feature16] = MAX(PivotTable2.[16])
										, [Feature17] = MAX(PivotTable2.[17])
										, [Feature18] = MAX(PivotTable2.[18])
										, [Feature19] = MAX(PivotTable2.[19])
										, [Feature20] = MAX(PivotTable2.[20]) 
										, [Feature21] = MAX(PivotTable2.[21]) 
										, [Feature22] = MAX(PivotTable2.[22]) 
										, [Feature23] = MAX(PivotTable2.[23]) 
										, [Feature24] = MAX(PivotTable2.[24]) 
										, [Feature25] = MAX(PivotTable2.[25]) 
										, [Feature26] = MAX(PivotTable2.[26]) 
										, [Feature27] = MAX(PivotTable2.[27]) 
										, [Feature28] = MAX(PivotTable2.[28]) 
										, [Feature29] = MAX(PivotTable2.[29]) 
										, [Feature30] = MAX(PivotTable2.[30]) 
										, [Feature31] = MAX(PivotTable2.[31]) 
										, [Feature32] = MAX(PivotTable2.[32]) 
										, [Feature33] = MAX(PivotTable2.[33]) 
										, [Feature34] = MAX(PivotTable2.[34]) 
										, [Feature35] = MAX(PivotTable2.[35]) 
										, [Feature36] = MAX(PivotTable2.[36]) 
										, [Feature37] = MAX(PivotTable2.[37]) 
										, [Feature38] = MAX(PivotTable2.[38]) 
										, [Feature39] = MAX(PivotTable2.[39]) 
										, [Feature40] = MAX(PivotTable2.[40]) 
										, [Feature41] = MAX(PivotTable2.[41]) 
										, [Feature42] = MAX(PivotTable2.[42]) 
										, [Feature43] = MAX(PivotTable2.[43]) 
										, [Feature44] = MAX(PivotTable2.[44]) 
										, [Feature45] = MAX(PivotTable2.[45]) 
										, [Feature46] = MAX(PivotTable2.[46]) 
										, [Feature47] = MAX(PivotTable2.[47]) 
										, [Feature48] = MAX(PivotTable2.[48]) 
										, [Feature49] = MAX(PivotTable2.[49]) 
										, [Feature50] = MAX(PivotTable2.[50])
										, [Feature51] = MAX(PivotTable2.[51])
										, [Feature52] = MAX(PivotTable2.[52])
										, [Feature53] = MAX(PivotTable2.[53])
										, [Feature54] = MAX(PivotTable2.[54])
										, [Feature55] = MAX(PivotTable2.[55])
										, [Feature56] = MAX(PivotTable2.[56])
										, [Feature57] = MAX(PivotTable2.[57])
										, [Feature58] = MAX(PivotTable2.[58])
										, [Feature59] = MAX(PivotTable2.[59])
										, [Feature60] = MAX(PivotTable2.[60])
										, [Feature61] = MAX(PivotTable2.[61])
										, [Feature62] = MAX(PivotTable2.[62])
										, [Feature63] = MAX(PivotTable2.[63])
										, [Feature64] = MAX(PivotTable2.[64])
										, [Feature65] = MAX(PivotTable2.[65])
										, [Feature66] = MAX(PivotTable2.[66])
										, [Feature67] = MAX(PivotTable2.[67])
										, [Feature68] = MAX(PivotTable2.[68])
										, [Feature69] = MAX(PivotTable2.[69])
										, [Feature70] = MAX(PivotTable2.[70]) 
										, [Feature71] = MAX(PivotTable2.[71]) 
										, [Feature72] = MAX(PivotTable2.[72]) 
										, [Feature73] = MAX(PivotTable2.[73]) 
										, [Feature74] = MAX(PivotTable2.[74]) 
										, [Feature75] = MAX(PivotTable2.[75]) 
										, [Feature76] = MAX(PivotTable2.[76]) 
										, [Feature77] = MAX(PivotTable2.[77]) 
										, [Feature78] = MAX(PivotTable2.[78]) 
										, [Feature79] = MAX(PivotTable2.[79]) 
										, [Feature80] = MAX(PivotTable2.[80]) 
										, [Feature81] = MAX(PivotTable2.[81]) 
										, [Feature82] = MAX(PivotTable2.[82]) 
										, [Feature83] = MAX(PivotTable2.[83]) 
										, [Feature84] = MAX(PivotTable2.[84]) 
										, [Feature85] = MAX(PivotTable2.[85]) 
										, [Feature86] = MAX(PivotTable2.[86]) 
										, [Feature87] = MAX(PivotTable2.[87]) 
										, [Feature88] = MAX(PivotTable2.[88]) 
										, [Feature89] = MAX(PivotTable2.[89]) 
										, [Feature90] = MAX(PivotTable2.[90]) 
										, [Feature91] = MAX(PivotTable2.[91]) 
										, [Feature92] = MAX(PivotTable2.[92]) 
										, [Feature93] = MAX(PivotTable2.[93]) 
										, [Feature94] = MAX(PivotTable2.[94]) 
										, [Feature95] = MAX(PivotTable2.[95]) 
										, [Feature96] = MAX(PivotTable2.[96]) 
										, [Feature97] = MAX(PivotTable2.[97]) 
										, [Feature98] = MAX(PivotTable2.[98]) 
										, [Feature99] = MAX(PivotTable2.[99]) 
										, [Feature100] = MAX(PivotTable2.[100])
										, [Feature01Desc] = MAX(PivotTable2.[01])
										, [Feature02Desc] = MAX(PivotTable2.[02])
										, [Feature03Desc] = MAX(PivotTable2.[03])
										, [Feature04Desc] = MAX(PivotTable2.[04])
										, [Feature05Desc] = MAX(PivotTable2.[05])
										, [Feature06Desc] = MAX(PivotTable2.[06])
										, [Feature07Desc] = MAX(PivotTable2.[07])
										, [Feature08Desc] = MAX(PivotTable2.[08])
										, [Feature09Desc] = MAX(PivotTable2.[09])
										, [Feature10Desc] = MAX(PivotTable2.[010])
										, [Feature11Desc] = MAX(PivotTable2.[011])
										, [Feature12Desc] = MAX(PivotTable2.[012])
										, [Feature13Desc] = MAX(PivotTable2.[013])
										, [Feature14Desc] = MAX(PivotTable2.[014])
										, [Feature15Desc] = MAX(PivotTable2.[015])
										, [Feature16Desc] = MAX(PivotTable2.[016])
										, [Feature17Desc] = MAX(PivotTable2.[017])
										, [Feature18Desc] = MAX(PivotTable2.[018])
										, [Feature19Desc] = MAX(PivotTable2.[019])
										, [Feature20Desc] = MAX(PivotTable2.[020]) 
										, [Feature21Desc] = MAX(PivotTable2.[021]) 
										, [Feature22Desc] = MAX(PivotTable2.[022]) 
										, [Feature23Desc] = MAX(PivotTable2.[023]) 
										, [Feature24Desc] = MAX(PivotTable2.[024]) 
										, [Feature25Desc] = MAX(PivotTable2.[025]) 
										, [Feature26Desc] = MAX(PivotTable2.[026]) 
										, [Feature27Desc] = MAX(PivotTable2.[027]) 
										, [Feature28Desc] = MAX(PivotTable2.[028]) 
										, [Feature29Desc] = MAX(PivotTable2.[029]) 
										, [Feature30Desc] = MAX(PivotTable2.[030]) 
										, [Feature31Desc] = MAX(PivotTable2.[031]) 
										, [Feature32Desc] = MAX(PivotTable2.[032]) 
										, [Feature33Desc] = MAX(PivotTable2.[033]) 
										, [Feature34Desc] = MAX(PivotTable2.[034]) 
										, [Feature35Desc] = MAX(PivotTable2.[035]) 
										, [Feature36Desc] = MAX(PivotTable2.[036]) 
										, [Feature37Desc] = MAX(PivotTable2.[037]) 
										, [Feature38Desc] = MAX(PivotTable2.[038]) 
										, [Feature39Desc] = MAX(PivotTable2.[039]) 
										, [Feature40Desc] = MAX(PivotTable2.[040]) 
										, [Feature41Desc] = MAX(PivotTable2.[041]) 
										, [Feature42Desc] = MAX(PivotTable2.[042]) 
										, [Feature43Desc] = MAX(PivotTable2.[043]) 
										, [Feature44Desc] = MAX(PivotTable2.[044]) 
										, [Feature45Desc] = MAX(PivotTable2.[045]) 
										, [Feature46Desc] = MAX(PivotTable2.[046]) 
										, [Feature47Desc] = MAX(PivotTable2.[047]) 
										, [Feature48Desc] = MAX(PivotTable2.[048]) 
										, [Feature49Desc] = MAX(PivotTable2.[049]) 
										, [Feature50Desc] = MAX(PivotTable2.[050])
										, [Feature51Desc] = MAX(PivotTable2.[051]) 
										, [Feature52Desc] = MAX(PivotTable2.[052]) 
										, [Feature53Desc] = MAX(PivotTable2.[053]) 
										, [Feature54Desc] = MAX(PivotTable2.[054]) 
										, [Feature55Desc] = MAX(PivotTable2.[055]) 
										, [Feature56Desc] = MAX(PivotTable2.[056]) 
										, [Feature57Desc] = MAX(PivotTable2.[057]) 
										, [Feature58Desc] = MAX(PivotTable2.[058]) 
										, [Feature59Desc] = MAX(PivotTable2.[059]) 
										, [Feature60Desc] = MAX(PivotTable2.[060])
										, [Feature61Desc] = MAX(PivotTable2.[061]) 
										, [Feature62Desc] = MAX(PivotTable2.[062]) 
										, [Feature63Desc] = MAX(PivotTable2.[063]) 
										, [Feature64Desc] = MAX(PivotTable2.[064]) 
										, [Feature65Desc] = MAX(PivotTable2.[065]) 
										, [Feature66Desc] = MAX(PivotTable2.[066]) 
										, [Feature67Desc] = MAX(PivotTable2.[067]) 
										, [Feature68Desc] = MAX(PivotTable2.[068]) 
										, [Feature69Desc] = MAX(PivotTable2.[069]) 
										, [Feature70Desc] = MAX(PivotTable2.[070])
										, [Feature71Desc] = MAX(PivotTable2.[071]) 
										, [Feature72Desc] = MAX(PivotTable2.[072]) 
										, [Feature73Desc] = MAX(PivotTable2.[073]) 
										, [Feature74Desc] = MAX(PivotTable2.[074]) 
										, [Feature75Desc] = MAX(PivotTable2.[075]) 
										, [Feature76Desc] = MAX(PivotTable2.[076]) 
										, [Feature77Desc] = MAX(PivotTable2.[077]) 
										, [Feature78Desc] = MAX(PivotTable2.[078]) 
										, [Feature79Desc] = MAX(PivotTable2.[079]) 
										, [Feature80Desc] = MAX(PivotTable2.[080])
										, [Feature81Desc] = MAX(PivotTable2.[081]) 
										, [Feature82Desc] = MAX(PivotTable2.[082]) 
										, [Feature83Desc] = MAX(PivotTable2.[083]) 
										, [Feature84Desc] = MAX(PivotTable2.[084]) 
										, [Feature85Desc] = MAX(PivotTable2.[085]) 
										, [Feature86Desc] = MAX(PivotTable2.[086]) 
										, [Feature87Desc] = MAX(PivotTable2.[087]) 
										, [Feature88Desc] = MAX(PivotTable2.[088]) 
										, [Feature89Desc] = MAX(PivotTable2.[089]) 
										, [Feature90Desc] = MAX(PivotTable2.[090])
										, [Feature91Desc] = MAX(PivotTable2.[091]) 
										, [Feature92Desc] = MAX(PivotTable2.[092]) 
										, [Feature93Desc] = MAX(PivotTable2.[093]) 
										, [Feature94Desc] = MAX(PivotTable2.[094]) 
										, [Feature95Desc] = MAX(PivotTable2.[095]) 
										, [Feature96Desc] = MAX(PivotTable2.[096]) 
										, [Feature97Desc] = MAX(PivotTable2.[097]) 
										, [Feature98Desc] = MAX(PivotTable2.[098]) 
										, [Feature99Desc] = MAX(PivotTable2.[099]) 
										, [Feature100Desc] = MAX(PivotTable2.[0100])
									from (
										select TrCurrAccFeatures.CurrAccCode
											, TrCurrAccFeatures.CurrAccFeatureCode
											, FeatureDesc
											, DcCurrAccFeatures.CurrAccFeatureTypeId	
											, CurrAccFeatureTypeId2 = '0' + DcCurrAccFeatures.CurrAccFeatureTypeId
										from TrCurrAccFeatures 
										left join DcCurrAccFeatures on TrCurrAccFeatures.CurrAccFeatureCode = DcCurrAccFeatures.CurrAccFeatureCode
											and TrCurrAccFeatures.CurrAccFeatureTypeId = DcCurrAccFeatures.CurrAccFeatureTypeId
										--where CurrAccCode = 'P-001247'
									) as tblo
									PIVOT (Max(CurrAccFeatureCode) FOR CurrAccFeatureTypeId IN ([1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12], [13], [14], [15], [16], [17], [18], [19], [20], [21], [22], [23], [24], [25],
									[26], [27], [28], [29], [30], [31], [32], [33], [34], [35], [36], [37], [38], [39], [40], [41], [42], [43], [44], [45], [46], [47], [48], [49], [50],
									[51], [52], [53], [54], [55], [56], [57], [58], [59], [60], [61], [62], [63], [64], [65], [66], [67], [68], [69], [70], [71], [72], [73], [74], [75], [76], [77], [78], [79], [80],
									[81], [82], [83], [84], [85], [86], [87], [88], [89], [90], [91], [92], [93], [94], [95], [96], [97], [98], [99], [100], [101], [102], [103], [104], [105], [106], [107], [108], [109], [110]
									)) AS PivotTable
									PIVOT (Max(FeatureDesc) FOR CurrAccFeatureTypeId2 IN ([01], [02], [03], [04], [05], [06], [07], [08], [09], [010], [011], [012], [013], [014], [015], [016], [017], [018], [019], [020], [021], [022], [023], [024], [025],
									[026], [027], [028], [029], [030], [031], [032], [033], [034], [035], [036], [037], [038], [039], [040], [041], [042], [043], [044], [045], [046], [047], [048], [049], [050],
									[051], [052], [053], [054], [055], [056], [057], [058], [059], [060], [061], [062], [063], [064], [065], [066], [067], [068], [069], [070], [071], [072], [073], [074], [075], [076], [077], [078], [079], [080],
									[081], [082], [083], [084], [085], [086], [087], [088], [089], [090], [091], [092], [093], [094], [095], [096], [097], [098], [099], [0100], [0101], [0102], [0103], [0104], [0105], [0106], [0107], [0108], [0109], [0110]
									)) AS PivotTable2
									group by CurrAccCode");
        }

        /// <inheritdoc />
        protected override void Down(MigrationBuilder migrationBuilder)
        {
            
        }
    }
}
